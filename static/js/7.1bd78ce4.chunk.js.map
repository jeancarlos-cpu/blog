{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/random-line.svg","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/sign-in/sign-in.component.jsx","components/sign-up/sign-up.component.jsx","pages/login-page/login-page.component.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","module","exports","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","initialState","email","password","error","LOGIN_USER","gql","toogleStatus","useState","state","setState","history","useHistory","client","useApolloClient","useMutation","onCompleted","login","localStorage","setItem","token","writeData","data","isLoggedIn","goBack","onError","e","message","loginUser","handleChange","event","target","name","Form","onSubmit","preventDefault","variables","src","Logo","alt","type","placeholder","onChange","required","onClick","styled","form","confirmPassword","CREATE_USER","createUser","console","log","action","status","setStatus","className"],"mappings":"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","file":"static/js/7.1bd78ce4.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","module.exports = __webpack_public_path__ + \"static/media/random-line.88937c70.svg\";","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { useState } from \"react\";\r\nimport { gql } from \"apollo-boost\";\r\nimport { useMutation, useApolloClient } from \"@apollo/react-hooks\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Logo from \"../../assets/random-line.svg\";\r\n\r\nconst initialState = {\r\n  email: \"\",\r\n  password: \"\",\r\n  error: \"\"\r\n};\r\n\r\nexport const LOGIN_USER = gql`\r\n  mutation loginUser($email: String!, $password: String!) {\r\n    login(data: { email: $email, password: $password }) {\r\n      user {\r\n        id\r\n      }\r\n      token\r\n    }\r\n  }\r\n`;\r\n\r\nexport default ({ toogleStatus }) => {\r\n  const [state, setState] = useState(initialState);\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const [loginUser] = useMutation(LOGIN_USER, {\r\n    onCompleted: ({ login }) => {\r\n      localStorage.setItem(\"token\", login.token);\r\n      client.writeData({ data: { isLoggedIn: true } });\r\n      setState(initialState);\r\n      history.goBack();\r\n    },\r\n    onError: e => setState({ ...state, error: e.message })\r\n  });\r\n\r\n  const handleSignIn = event => {\r\n    const { email, password } = state;\r\n    event.preventDefault();\r\n    loginUser({ variables: { email, password } });\r\n  };\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSignIn}>\r\n      <img src={Logo} alt=\"Airbnb logo\" />\r\n      {state.error && <p>{state.error}</p>}\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        placeholder=\"E-mail\"\r\n        onChange={handleChange}\r\n        required={true}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        placeholder=\"Password\"\r\n        onChange={handleChange}\r\n        required={true}\r\n      />\r\n      <button type=\"submit\">Login</button>\r\n      <hr />\r\n      <span onClick={toogleStatus}>Sign up for free</span>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport const Form = styled.form`\r\n  width: 400px;\r\n  background: var(--background1);\r\n  padding: 40px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  img {\r\n    width: 70px;\r\n    margin: 10px 0 40px;\r\n  }\r\n  p {\r\n    color: var(--stroke);\r\n    margin-bottom: 15px;\r\n    border: 1px solid var(--stroke);\r\n    padding: 10px;\r\n    width: 100%;\r\n    text-align: center;\r\n  }\r\n  input {\r\n    flex: 1;\r\n    line-height: 46px;\r\n    margin-bottom: 15px;\r\n    padding: 0 20px;\r\n    color: #777;\r\n    font-size: 15px;\r\n    width: 100%;\r\n    border: 1px solid #ddd;\r\n    &::placeholder {\r\n      color: #999;\r\n    }\r\n  }\r\n  button {\r\n    color: #fff;\r\n    font-size: 16px;\r\n    background: var(--highlight);\r\n    height: 56px;\r\n    border: 0;\r\n    border-radius: 5px;\r\n    width: 100%;\r\n  }\r\n  hr {\r\n    margin: 20px 0;\r\n    border: none;\r\n    border-bottom: 1px solid #cdcdcd;\r\n    width: 100%;\r\n  }\r\n  span {\r\n    font-size: 16;\r\n    font-weight: bold;\r\n    color: #999;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { gql } from \"apollo-boost\";\r\nimport { useMutation, useApolloClient } from \"@apollo/react-hooks\";\r\nimport styled from \"styled-components\";\r\nimport Logo from \"../../assets/random-line.svg\";\r\n\r\nconst initialState = {\r\n  name: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  confirmPassword: \"\",\r\n  error: \"\"\r\n};\r\n\r\nexport const CREATE_USER = gql`\r\n  mutation createUser($name: String!, $email: String!, $password: String!) {\r\n    createUser(data: { name: $name, email: $email, password: $password }) {\r\n      user {\r\n        id\r\n      }\r\n      token\r\n    }\r\n  }\r\n`;\r\n\r\nexport default ({ toogleStatus }) => {\r\n  const [state, setState] = useState(initialState);\r\n  const client = useApolloClient();\r\n  const [createUser] = useMutation(CREATE_USER, {\r\n    onCompleted: ({ createUser }) => {\r\n      localStorage.setItem(\"token\", createUser.token);\r\n      client.writeData({ data: { isLoggedIn: true } });\r\n    },\r\n    onError: e => {\r\n      setState({ ...state, error: e.message });\r\n    }\r\n  });\r\n\r\n  const handleSignIn = event => {\r\n    event.preventDefault();\r\n    setState({ ...state, error: \"\" });\r\n    const { email, password, confirmPassword, name } = state;\r\n    if (password !== confirmPassword) {\r\n      setState({ ...state, error: \"passwords do not match\" });\r\n    } else {\r\n      createUser({ variables: { name, email, password } });\r\n    }\r\n  };\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n    console.log(value);\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSignIn} action=\"post\">\r\n      <img src={Logo} alt=\"Airbnb logo\" />\r\n      {state.error && <p>{state.error}</p>}\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        value={state.email}\r\n        placeholder=\"E-mail\"\r\n        onChange={handleChange}\r\n        required={true}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={state.name}\r\n        placeholder=\"Username\"\r\n        onChange={handleChange}\r\n        required={true}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        value={state.password}\r\n        placeholder=\"Password\"\r\n        onChange={handleChange}\r\n        required={true}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        name=\"confirmPassword\"\r\n        value={state.confirmPassword}\r\n        placeholder=\"Comfirm password\"\r\n        onChange={handleChange}\r\n        required={true}\r\n      />\r\n      <button>Sign up for free</button>\r\n      <hr />\r\n      <span onClick={toogleStatus}>Sign in</span>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport const Form = styled.form`\r\n  width: 400px;\r\n  background: var(--background1);\r\n  padding: 40px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  img {\r\n    width: 70px;\r\n    margin: 10px 0 40px;\r\n  }\r\n  p {\r\n    color: var(--stroke);\r\n    margin-bottom: 15px;\r\n    border: 1px solid var(--stroke);\r\n    padding: 10px;\r\n    width: 100%;\r\n    text-align: center;\r\n  }\r\n  input {\r\n    flex: 1;\r\n    line-height: 46px;\r\n    margin-bottom: 15px;\r\n    padding: 0 20px;\r\n    color: #777;\r\n    font-size: 15px;\r\n    width: 100%;\r\n    border: 1px solid #ddd;\r\n    &::placeholder {\r\n      color: #999;\r\n    }\r\n  }\r\n  button {\r\n    color: #fff;\r\n    font-size: 16px;\r\n    background: var(--highlight);\r\n    height: 56px;\r\n    border: 0;\r\n    border-radius: 5px;\r\n    width: 100%;\r\n  }\r\n  hr {\r\n    margin: 20px 0;\r\n    border: none;\r\n    border-bottom: 1px solid #cdcdcd;\r\n    width: 100%;\r\n  }\r\n  span {\r\n    font-size: 16;\r\n    font-weight: bold;\r\n    color: #999;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport SignIn from \"../../components/sign-in/sign-in.component\";\r\nimport SignUp from \"../../components/sign-up/sign-up.component\";\r\nimport \"./login-page.styles.scss\";\r\n\r\nexport default () => {\r\n  const [status, setStatus] = useState(true);\r\n  const toogleStatus = () => setStatus(!status);\r\n  return (\r\n    <div className=\"login-page\">\r\n      {status ? (\r\n        <SignIn toogleStatus={toogleStatus} />\r\n      ) : (\r\n        <SignUp toogleStatus={toogleStatus} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"sourceRoot":""}
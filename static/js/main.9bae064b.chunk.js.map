{"version":3,"sources":["assets/logo.png","graphql/queries.js","components/loading/loading.jsx","utils/firstLettersToUpperCase.js","components/users/users.component.jsx","components/posts/posts.component.jsx","components/comments/comments.component.jsx","pages/home-page/home-page.component.jsx","components/input/input.component.jsx","components/sign-in/sign-in.component.jsx","components/sign-up/sign-up.component.jsx","pages/login-page/login-page.component.jsx","pages/profile-page/profile-page.component.jsx","pages/post-page/post-page.component.jsx","components/header/header.component.jsx","graphql/resolvers.js","index.js","auth.js","App.jsx"],"names":["module","exports","GET_USER_BY_ID","gql","GET_USERS","IS_USER_LOGGED_IN","GET_POST_BY_ID","GET_POSTS","GET_COMMENTS","Loading","style","type","color","height","width","display","justifyContent","alignItems","string","toLowerCase","split","reduce","acc","word","charAt","toUpperCase","slice","history","useHistory","a","useQuery","variables","orderBy","first","error","loading","console","log","className","data","users","map","user","key","id","onClick","push","src","profilePicture","alt","firstToUpperCase","name","fromNow","createdAt","handleLoadMore","hasMorePosts","posts","post","title","body","author","toUpper","comments","comment","index","text","commentsQuery","postsQuery","useState","sethasMorePosts","fetchMore","skip","length","updateQuery","prev","fetchMoreResult","Input","handleChange","otherProps","onChange","initialState","state","setState","client","useApolloClient","useMutation","LOGIN_USER","onCompleted","login","localStorage","setItem","token","writeData","isLoggedIn","goBack","onError","e","alert","message","loginUser","event","target","value","onSubmit","email","password","preventDefault","placeholder","required","CREATE_USER","createUser","confirmPassword","action","userId","useParams","query","upper","CREATE_COMMENT","postId","setText","createComment","handleClick","_","maxLength","rows","autoFocus","to","logo","clear","typeDefs","resolvers","Query","parent","args","cache","readQuery","User","InMemoryCache","ApolloClient","uri","headers","authorization","getItem","decode","exp","Date","now","isTokenExpired","ReactDOM","render","exact","path","component","HomePage","ProfilePage","PostPage","document","getElementById"],"mappings":"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","file":"static/js/main.9bae064b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import { gql } from \"apollo-boost\";\r\n\r\nexport const GET_USER_BY_ID = gql`\r\n  query getUser($query: String!) {\r\n    users(query: $query) {\r\n      id\r\n      name\r\n      profilePicture @client\r\n      posts {\r\n        id\r\n        title\r\n        body\r\n        createdAt\r\n        author {\r\n          id\r\n          name\r\n        }\r\n      }\r\n      comments {\r\n        id\r\n        text\r\n        createdAt\r\n        author {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USERS = gql`\r\n  query getUsers($orderBy: UserOrderByInput, $first: Int) {\r\n    users(orderBy: $orderBy, first: $first) {\r\n      id\r\n      name\r\n      createdAt\r\n      profilePicture @client\r\n    }\r\n  }\r\n`;\r\n\r\nexport const IS_USER_LOGGED_IN = gql`\r\n  query isLoggedIn {\r\n    isLoggedIn @client\r\n  }\r\n`;\r\n\r\nexport const GET_POST_BY_ID = gql`\r\n  query getPostById($id: ID!) {\r\n    post(id: $id) {\r\n      id\r\n      title\r\n      body\r\n\r\n      author {\r\n        id\r\n        name\r\n        profilePicture @client\r\n      }\r\n      createdAt\r\n      comments {\r\n        id\r\n        text\r\n        author {\r\n          id\r\n          name\r\n          profilePicture @client\r\n        }\r\n        createdAt\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_POSTS = gql`\r\n  query getPosts($first: Int, $skip: Int, $orderBy: PostOrderByInput) {\r\n    posts(first: $first, skip: $skip, orderBy: $orderBy) {\r\n      id\r\n      title\r\n      body\r\n      createdAt\r\n      author {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_COMMENTS = gql`\r\n  query getComments($first: Int, $skip: Int, $orderBy: CommentOrderByInput) {\r\n    comments(first: $first, skip: $skip, orderBy: $orderBy) {\r\n      id\r\n      text\r\n      author {\r\n        id\r\n        name\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport ReactLoading from \"react-loading\";\r\n\r\nconst Loading = () => (\r\n  <div style={style}>\r\n    <ReactLoading type={\"spin\"} color={\"#094067\"} height={50} width={50} />\r\n  </div>\r\n);\r\nexport default Loading;\r\n\r\nconst style = {\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\"\r\n};\r\n","export default (string) =>\r\n  string\r\n    .toLowerCase()\r\n    .split(\" \")\r\n    .reduce((acc, word) => `${acc} ${word.charAt(0).toUpperCase() + word.slice(1)}`,\"\");\r\n\r\n\r\n","import React from \"react\";\r\nimport Loading from \"../loading/loading\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nimport firstToUpperCase from \"../../utils/firstLettersToUpperCase\";\r\nimport \"./users.styles.scss\";\r\nimport { GET_USERS } from \"../../graphql/queries\";\r\n\r\nexport default () => {\r\n  const history = useHistory();\r\n  const a = useQuery(GET_USERS, {\r\n    variables: { orderBy: \"createdAt_DESC\", first: 3 }\r\n  });\r\n  if (a.error) return \"Error :(\";\r\n  if (a.loading) return \"Error :(\";\r\n  console.log(a);\r\n  return (\r\n    <div className=\"users-container\">\r\n      <h1>New Users</h1>\r\n      {a.loading ? (\r\n        <Loading />\r\n      ) : (\r\n        a.data.users.map(user => (\r\n          <div\r\n            className=\"user-container\"\r\n            key={user.id}\r\n            onClick={() => history.push(`profile/${user.id}`)}\r\n          >\r\n            <div className=\"userimg\">\r\n              <img src={user.profilePicture} alt=\"\" />\r\n            </div>\r\n            <div className=\"profile\">\r\n              <h1 className=\"name\">{firstToUpperCase(user.name)}</h1>\r\n              <span>\r\n                <Moment fromNow>{user.createdAt}</Moment>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Loading from \"../loading/loading\";\r\nimport Moment from \"react-moment\";\r\nimport toUpper from \"../../utils/firstLettersToUpperCase\";\r\nimport \"./posts.styles.scss\";\r\n\r\nexport default ({ data, loading, error, handleLoadMore, hasMorePosts }) => {\r\n  if (loading) return <Loading />;\r\n  if (error) return \"Error :(\";\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className=\"posts-container\">\r\n      {data.posts.map(post => (\r\n        <div\r\n          className=\"post-container\"\r\n          key={post.id}\r\n        >\r\n          <div className=\"post-title\">\r\n            <div className='title' onClick={() => history.push(`/post/${post.id}`)}>{post.title}</div>\r\n            <div className=\"date\">\r\n              <Moment fromNow>{post.createdAt}</Moment>\r\n            </div>\r\n          </div>\r\n          <div className=\"post-body\">{post.body.slice(0, 350) + \"...\"}</div>\r\n          <div className=\"post-footer\">\r\n            Author:{\" \"}\r\n            <span onClick={() => history.push(`/profile/${post.author.id}`)}>\r\n              {toUpper(post.author.name)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      ))}\r\n      <button\r\n        className=\"load-more\"\r\n        onClick={handleLoadMore}\r\n        style={!hasMorePosts ? { display: \"none\" } : null}\r\n      >\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Loading from \"../loading/loading\";\r\nimport Moment from \"react-moment\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport toUpper from \"../../utils/firstLettersToUpperCase\";\r\nimport \"./comments.styles.scss\";\r\n\r\nexport default ({ loading, error, data }) => {\r\n  if (error) return \"Error :(\";\r\n  const history = useHistory();\r\n  console.log(data);\r\n\r\n  return (\r\n    <div className=\"comments-container\">\r\n      <h1>Last Comments</h1>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : (\r\n        data.comments.map((comment, index) => (\r\n          <div\r\n            onClick={() => history.push(`/profile/${comment.author.id}`)}\r\n            className=\"comment-container\"\r\n            key={index}\r\n          >\r\n            <div className=\"comment-text\">{comment.text}</div>\r\n            <div className=\"date\">\r\n              <div>{toUpper(comment.author.name)}</div>\r\n              <div>\r\n                <Moment fromNow>{comment.createdAt}</Moment>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport UsersCard from \"../../components/users/users.component\";\r\nimport Posts from \"../../components/posts/posts.component\";\r\nimport Comments from \"../../components/comments/comments.component\";\r\nimport \"./homepage.styles.scss\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { GET_COMMENTS, GET_POSTS } from \"../../graphql/queries\";\r\n\r\nexport default () => {\r\n  const commentsQuery = useQuery(GET_COMMENTS, {\r\n    variables: { orderBy: \"createdAt_DESC\", first: 5 }\r\n  });\r\n\r\n  const postsQuery = useQuery(GET_POSTS, {\r\n    variables: { orderBy: \"createdAt_DESC\", first: 6 }\r\n  });\r\n\r\n  const [hasMorePosts, sethasMorePosts] = useState(true);\r\n\r\n  const handleLoadMore = () => {\r\n    postsQuery.fetchMore({\r\n      variables: {\r\n        skip: postsQuery.data.posts.length,\r\n        first: 3\r\n      },\r\n      updateQuery: (prev, { fetchMoreResult }) => {\r\n        if (!fetchMoreResult.posts.length) {\r\n          sethasMorePosts(false);\r\n          console.log(\"foi\");\r\n          return prev;\r\n        }\r\n        return {\r\n          posts: [...prev.posts, ...fetchMoreResult.posts]\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"homepage-grid\">\r\n        <div className=\"users-grid\">\r\n          <UsersCard />\r\n        </div>\r\n        <div className=\"comments-grid\">\r\n          <Comments\r\n            data={commentsQuery.data}\r\n            loading={commentsQuery.loading}\r\n            error={commentsQuery.error}\r\n          />\r\n        </div>\r\n        <div className=\"posts-grid\">\r\n          <Posts\r\n            data={postsQuery.data}\r\n            loading={postsQuery.loading}\r\n            error={postsQuery.error}\r\n            hasMorePosts={hasMorePosts}\r\n            handleLoadMore={handleLoadMore}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./input.syles.scss\";\r\n\r\nexport default function Input({ handleChange, ...otherProps }) {\r\n  return <input className=\"input\" {...otherProps} onChange={handleChange} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Input from \"../input/input.component\";\r\nimport \"./sign-in.styles.scss\";\r\nimport { gql } from \"apollo-boost\";\r\nimport { useMutation, useApolloClient } from \"@apollo/react-hooks\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default () => {\r\n  const [state, setState] = useState(initialState);\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const [loginUser] = useMutation(LOGIN_USER, {\r\n    onCompleted: ({ login }) => {\r\n      localStorage.setItem(\"token\", login.token);\r\n      client.writeData({ data: { isLoggedIn: true } });\r\n      setState(initialState);\r\n      history.goBack();\r\n    },\r\n    onError: e => alert(e.message)\r\n  });\r\n\r\n  const handleSignIn = event => {\r\n    const { email, password } = state;\r\n    event.preventDefault();\r\n    loginUser({ variables: { email, password } });\r\n  };\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign-in\">\r\n      <h2>I already have an account.</h2>\r\n      <form onSubmit={handleSignIn}>\r\n        <Input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"E-mail\"\r\n          handleChange={handleChange}\r\n          required={true}\r\n        />\r\n        <Input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          handleChange={handleChange}\r\n          required={true}\r\n        />\r\n        <button>Sign In</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst initialState = {\r\n  email: \"\",\r\n  password: \"\"\r\n};\r\n\r\nexport const LOGIN_USER = gql`\r\n  mutation loginUser($email: String!, $password: String!) {\r\n    login(data: { email: $email, password: $password }) {\r\n      user {\r\n        id\r\n      }\r\n      token\r\n    }\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport Input from \"../input/input.component\";\r\nimport { gql } from \"apollo-boost\";\r\nimport { useMutation, useApolloClient } from \"@apollo/react-hooks\";\r\n\r\nexport default () => {\r\n  const [state, setState] = useState(initialState);\r\n  const client = useApolloClient();\r\n  const [createUser] = useMutation(CREATE_USER, {\r\n    onCompleted: ({ createUser }) => {\r\n      localStorage.setItem(\"token\", createUser.token);\r\n      client.writeData({ data: { isLoggedIn: true } });\r\n    }\r\n  });\r\n\r\n  const handleSignIn = event => {\r\n    event.preventDefault();\r\n    const { email, password, confirmPassword, name } = state;\r\n    if (password !== confirmPassword) return alert(\"passwords don't match\");\r\n    createUser({ variables: { name, email, password } });\r\n  };\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign-in\">\r\n      <h2>I don't have an account yet.</h2>\r\n      <form onSubmit={handleSignIn} action=\"post\">\r\n        <Input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Username\"\r\n          handleChange={handleChange}\r\n          required={true}\r\n        />\r\n        <Input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"E-mail\"\r\n          handleChange={handleChange}\r\n          required={true}\r\n        />\r\n        <Input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          handleChange={handleChange}\r\n          required={true}\r\n        />\r\n        <Input\r\n          type=\"password\"\r\n          name=\"confirmPassword\"\r\n          placeholder=\"Comfirm password\"\r\n          handleChange={handleChange}\r\n          required={true}\r\n        />\r\n        <button>Sign Up</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst initialState = {\r\n  name: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  confirmPassword: \"\"\r\n};\r\n\r\nexport const CREATE_USER = gql`\r\n  mutation createUser($name: String!, $email: String!, $password: String!) {\r\n    createUser(data: { name: $name, email: $email, password: $password }) {\r\n      user {\r\n        id\r\n      }\r\n      token\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport SignIn from \"../../components/sign-in/sign-in.component\";\r\nimport SignUp from \"../../components/sign-up/sign-up.component\";\r\nimport './login-page.styles.scss'\r\n\r\nexport default () => {\r\n  return (\r\n    <div className='login-page'>\r\n      <SignIn />\r\n      <SignUp />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport \"./profile-page.styles.scss\";\r\nimport upper from \"../../utils/firstLettersToUpperCase\";\r\nimport Loading from \"../../components/loading/loading\";\r\nimport Posts from \"../../components/posts/posts.component\";\r\nimport Comments from \"../../components/comments/comments.component\";\r\nimport { GET_USER_BY_ID } from \"../../graphql/queries\";\r\n\r\nexport default () => {\r\n  const { userId } = useParams();\r\n  const { data, loading, error } = useQuery(GET_USER_BY_ID, {\r\n    variables: {\r\n      query: userId\r\n    }\r\n  });\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <div>Error ;(</div>;\r\n  const user = data.users[0];\r\n  console.log(user);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <div className=\"pic-grid\">\r\n        <img src={user.profilePicture} alt=\"\" />\r\n        <h2>{upper(user.name)}</h2>\r\n      </div>\r\n      <div className=\"comments-grid\">\r\n        <Comments data={user} loading={loading} error={error} />\r\n      </div>\r\n      <div className=\"posts-grid\">\r\n        <h2>User Posts</h2>\r\n        <Posts\r\n          data={user}\r\n          loading={loading}\r\n          error={error}\r\n          hasMorePosts={false}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { gql } from \"apollo-boost\";\r\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Loading from \"../../components/loading/loading\";\r\nimport \"./post-page.styles.scss\";\r\nimport Moment from \"react-moment\";\r\nimport toUpper from \"../../utils/firstLettersToUpperCase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { GET_POST_BY_ID } from \"../../graphql/queries\";\r\n\r\nconst CREATE_COMMENT = gql`\r\n  mutation createComment($text: String!, $id: ID!) {\r\n    createComment(data: { text: $text, post: $id }) {\r\n      id\r\n      text\r\n    }\r\n  }\r\n`;\r\n\r\nexport default ({ isLoggedIn }) => {\r\n  const { postId } = useParams();\r\n  const history = useHistory();\r\n  const [text, setText] = useState(\"\");\r\n  const [createComment] = useMutation(CREATE_COMMENT);\r\n  const { data, loading, error } = useQuery(GET_POST_BY_ID, {\r\n    variables: {\r\n      id: postId\r\n    }\r\n  });\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <div>error ;(</div>;\r\n  const { post } = data;\r\n\r\n  const handleClick = _ => {\r\n    history.push(`/profile/${post.author.id}`);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (!isLoggedIn) return history.push(\"/login\");\r\n    createComment({ variables: { text, id: post.id } });\r\n  };\r\n\r\n  return (\r\n    <div className=\"post-page-container\">\r\n      <h1 className=\"title\">{post.title}</h1>\r\n      <div className=\"author\">\r\n        <img src={post.author.profilePicture} alt=\"\" onClick={handleClick} />\r\n        <div>\r\n          <h2 onClick={handleClick}>{toUpper(post.author.name)}</h2>\r\n          <h3>\r\n            <Moment fromNow>{post.createdAt}</Moment>\r\n          </h3>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <p className=\"body\">{post.body}</p>\r\n      <hr />\r\n      <form action=\"\" onSubmit={handleSubmit}>\r\n        <h4>Leave us a comment</h4>\r\n        <textarea\r\n          className=\"comment-input\"\r\n          type=\"text\"\r\n          maxLength=\"200\"\r\n          onChange={({ target: { value } }) => setText(value)}\r\n          required={true}\r\n          placeholder=\"Comment...\"\r\n          rows={\"4\"}\r\n          autoFocus\r\n        />\r\n        <button>Send comment</button>\r\n      </form>\r\n      <hr />\r\n      <div className=\"post-comments-container\">\r\n        <h2 className=\"title\">Comments</h2>\r\n        {post.comments.map(comment => (\r\n          <div className=\"post-comment-container\" key={comment.id}>\r\n            <div className=\"profile-p\">\r\n              <img src={comment.author.profilePicture} alt=\"\" />\r\n              <span>{comment.author.name}</span>\r\n            </div>\r\n            <div className=\"text-p\">\r\n              <p>{comment.text}</p>\r\n              <Moment className=\"push-right\" fromNow>\r\n                {comment.createdAt}\r\n              </Moment>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./header.styles.scss\";\r\nimport logo from \"../../assets/logo.png\";\r\nimport { useApolloClient } from \"@apollo/react-hooks\";\r\n\r\nexport default ({ isLoggedIn }) => {\r\n  const client = useApolloClient();\r\n  const handleSignOut = () => {\r\n    localStorage.clear();\r\n    client.writeData({ data: { isLoggedIn: false } });\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <Link to=\"/\">\r\n        <img src={logo} alt=\"aa\" />\r\n      </Link>\r\n      <ul>\r\n        <li className=\"push-left\">\r\n          <Link to=\"/about\">ABOUT</Link>\r\n        </li>\r\n        <li>\r\n          {isLoggedIn ? (\r\n            <div onClick={handleSignOut}>SIGN OUT</div>\r\n          ) : (\r\n            <Link to=\"/login\">LOGIN</Link>\r\n          )}\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  );\r\n};\r\n","import { gql } from \"apollo-boost\";\r\nimport { IS_USER_LOGGED_IN } from \"./queries\";\r\n\r\nexport const typeDefs = gql`\r\n  extend type Query {\r\n    isLoggedIn: Boolean!\r\n  }\r\n\r\n  extend type User {\r\n    profilePicture: Boolean!\r\n  }\r\n`;\r\n\r\nexport const resolvers = {\r\n  Query: {\r\n    isLoggedIn: (parent, args, { cache }) => {\r\n      const { isLoggedIn } = cache.readQuery({ query: IS_USER_LOGGED_IN });\r\n      return isLoggedIn;\r\n    }\r\n  },\r\n  User: {\r\n    profilePicture: (parent, args, { cache }) => {\r\n      const { id } = parent;\r\n      return `https://robohash.org/${id}?set=set2`;\r\n    }\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.jsx\";\nimport ApolloClient, { InMemoryCache } from \"apollo-boost\";\nimport { ApolloProvider } from \"@apollo/react-hooks\";\nimport { typeDefs, resolvers } from \"./graphql/resolvers\";\nimport \"./index.scss\";\nimport isTokenExpired from \"./auth\";\n\nconst cache = new InMemoryCache();\n\nconst client = new ApolloClient({\n  uri: \"https://protected-forest-05457.herokuapp.com/\",\n  // uri: \"http://192.168.0.15:4000\",\n  cache,\n  headers: { authorization: isTokenExpired() },\n  typeDefs,\n  resolvers\n});\n\nclient.writeData({\n  data: { isLoggedIn: !!localStorage.getItem(\"token\") }\n});\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById(\"root\")\n);\n","// import React from \"react\";\r\nimport decode from \"jwt-decode\";\r\n// import { useApolloClient } from \"@apollo/react-hooks\";\r\nexport default function IsTokenExpired() {\r\n  //   const client = useApolloClient();\r\n  const token = localStorage.getItem(\"token\");\r\n  try {\r\n    const decoded = decode(token);\r\n    if (decoded.exp > Date.now() / 1000) {\r\n      return token;\r\n    } else {\r\n      localStorage.clear();\r\n      return null;\r\n    }\r\n  } catch (e) {\r\n    localStorage.clear();\r\n    return null;\r\n  }\r\n}\r\n","import React from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { IS_USER_LOGGED_IN } from \"./graphql/queries\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport HomePage from \"./pages/home-page/home-page.component\";\nimport LoginPage from \"./pages/login-page/login-page.component\";\nimport ProfilePage from \"./pages/profile-page/profile-page.component\";\nimport PostPage from \"./pages/post-page/post-page.component\";\nimport Header from \"./components/header/header.component\";\n\nexport default () => {\n  const { data } = useQuery(IS_USER_LOGGED_IN);\n  const { isLoggedIn } = data;\n  return (\n    <BrowserRouter>\n      <Header isLoggedIn={isLoggedIn} />\n      <Switch>\n        <Route exact path=\"/blog\" component={HomePage} />\n        <Route path=\"/profile/:userId\" component={ProfilePage} />\n        <Route\n          path=\"/post/:postId\"\n          component={PostPage}\n          isLoggedIn={isLoggedIn}\n        />\n        <Route\n          path=\"/login\"\n          render={() => (isLoggedIn ? <Redirect to=\"/\" /> : <LoginPage />)}\n        />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n"],"sourceRoot":""}